<!DOCTYPE html><html lang="zh"><head><meta charset="utf-8"><title>Vueå­¦ä¹ æ€»ç»“ | Mcokos Blog</title><meta name="author" content="Mcokos"><meta name="description" content=""><meta name="keywords" content=""><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=0"><link rel="icon" href="/images/favicon.jpg"><script src="https://cdn.staticfile.org/vue/3.2.47/vue.global.prod.min.js"></script><link rel="stylesheet" href="https://cdn.staticfile.org/font-awesome/6.3.0/css/all.min.css"><link rel="stylesheet" href="/css/fonts.min.css"><script>const mixins={}</script><script src="https://polyfill.io/v3/polyfill.min.js?features=default"></script><script src="https://cdn.staticfile.org/highlight.js/11.7.0/highlight.min.js"></script><script src="https://cdn.staticfile.org/highlight.js/11.7.0/languages/xml.min.js"></script><link rel="stylesheet" href="https://cdn.staticfile.org/highlight.js/11.7.0/styles/github.min.css"><script src="/js/lib/highlight.js"></script><script src="/js/lib/preview.js"></script><link rel="stylesheet" href="/css/main.css"><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="Mcokos Blog" type="application/atom+xml"><link rel="alternate" href="/rss2.xml" title="Mcokos Blog" type="application/rss+xml"></head><body><div id="layout"><transition name="slide"><div id="slide" v-show="showSlidBar"><div><div id="sild-mask" @click="taggleSildbar"></div><div id="sildbar-menu"><div class="avatar"><img src="/images/avatar.jpg" alt="avatar"></div><div class="items" v-show="true"><a href="/"><div class="item"><i class="fa-solid fa-house fa-fw"></i> <span>é¦–é¡µ</span></div></a><a href="/archives"><div class="item"><i class="fa-solid fa-box-archive fa-fw"></i> <span>å½’æ¡£</span></div></a><a href="/categories"><div class="item"><i class="fa-solid fa-bookmark fa-fw"></i> <span>åˆ†ç±»</span></div></a><a href="/tags"><div class="item"><i class="fa-solid fa-tags fa-fw"></i> <span>æ ‡ç­¾</span></div></a><a href="/about"><div class="item"><i class="fa-solid fa-id-card fa-fw"></i> <span>å…³äº</span></div></a></div></div></div></div></transition><div id="float-button"><a @click.prevent="toTop"><i class="fa-sharp fa-solid fa-arrow-up fa-xl"></i></a></div><header id="menu"><nav class="desktop-menu"><a class="title" href="/"><span>MCOKOS BLOG</span></a><div class="menu-items"><a href="/" id="menu-home"><i class="fa-solid fa-house fa-fw"></i> <span>é¦–é¡µ</span> </a><a href="/archives" id="menu-archives"><i class="fa-solid fa-box-archive fa-fw"></i> <span>å½’æ¡£</span> </a><a href="/categories" id="menu-categories"><i class="fa-solid fa-bookmark fa-fw"></i> <span>åˆ†ç±»</span> </a><a href="/tags" id="menu-tags"><i class="fa-solid fa-tags fa-fw"></i> <span>æ ‡ç­¾</span> </a><a href="/about" id="menu-about"><i class="fa-solid fa-id-card fa-fw"></i> <span>å…³äº</span></a></div><div class="menu-right"><div class="menu-button" id="search-button"><a><i class="fa-solid fa-magnifying-glass fa-fw fa-xl"></i></a></div><div class="menu-button" id="menu-totop"></div><div class="menu-button" id="mobile-menu" @click="taggleSildbar"><a><i class="fa-solid fa-bars fa-fw fa-xl"></i></a></div></div></nav></header><div id="page" ref="homePostsWrap"><div id="home-left"><div class="article"><div><h1>Vueå­¦ä¹ æ€»ç»“</h1></div><div class="info"><span class="date"><span class="icon"><i class="fa-solid fa-calendar fa-fw"></i> </span>2023/5/16 </span><span class="category"><a href="/categories/Vue/"><span class="icon"><i class="fa-solid fa-bookmark fa-fw"></i> </span>Vue </a></span><span class="tags"><span class="icon"><i class="fa-solid fa-tags fa-fw"></i> </span><span class="tag"><a href="/tags/Vue%E5%85%A5%E9%97%A8/" style="color:#5c6b72">Vueå…¥é—¨</a></span></span></div><div class="content" v-pre><h3 id="ç®€ä»‹">ç®€ä»‹</h3><p>Vueæ˜¯ä¸€æ¬¾ç”¨äºæ„å»ºç”¨æˆ·ç•Œé¢çš„ JavaScript æ¡†æ¶ï¼Œæä¾›äº†ä¸€å¥—å£°æ˜å¼çš„ã€ç»„ä»¶åŒ–çš„ç¼–ç¨‹æ¨¡å‹ã€‚</p><h6 id="å•æ–‡ä»¶ç»„ä»¶">å•æ–‡ä»¶ç»„ä»¶</h6><p>é¡¾åæ€ä¹‰ï¼ŒVue çš„å•æ–‡ä»¶ç»„ä»¶ä¼šå°†ä¸€ä¸ªç»„ä»¶çš„é€»è¾‘ (JavaScript)ï¼Œæ¨¡æ¿ (HTML) å’Œæ ·å¼ (CSS) å°è£…åœ¨åŒä¸€ä¸ªæ–‡ä»¶é‡Œã€‚</p><pre><code class="typescript">&lt;script&gt;
export default &#123;
  data() &#123;
    return &#123;
      count: 0
    &#125;
  &#125;
&#125;
&lt;/script&gt;

&lt;template&gt;
  &lt;button @click=&quot;count++&quot;&gt;Count is: &#123;&#123; count &#125;&#125;&lt;/button&gt;
&lt;/template&gt;

&lt;style scoped&gt;
button &#123;
  font-weight: bold;
&#125;
&lt;/style&gt;
</code></pre><h6 id="Vueæä¾›äº†ä¸¤ç§API-é£æ ¼ï¼šé€‰é¡¹å¼-API-å’Œç»„åˆå¼-APIã€‚">Vueæä¾›äº†ä¸¤ç§API é£æ ¼ï¼š<strong>é€‰é¡¹å¼ API</strong> å’Œ<strong>ç»„åˆå¼ API</strong>ã€‚</h6><ul><li>é€‰é¡¹å¼API</li></ul><pre><code class="typescript">&lt;script&gt;
export default &#123;
  // data() è¿”å›çš„å±æ€§å°†ä¼šæˆä¸ºå“åº”å¼çš„çŠ¶æ€
  // å¹¶ä¸”æš´éœ²åœ¨ `this` ä¸Š
  data() &#123;
    return &#123;
      count: 0
    &#125;
  &#125;,

  // methods æ˜¯ä¸€äº›ç”¨æ¥æ›´æ”¹çŠ¶æ€ä¸è§¦å‘æ›´æ–°çš„å‡½æ•°
  // å®ƒä»¬å¯ä»¥åœ¨æ¨¡æ¿ä¸­ä½œä¸ºäº‹ä»¶ç›‘å¬å™¨ç»‘å®š
  methods: &#123;
    increment() &#123;
      this.count++
    &#125;
  &#125;,

  // ç”Ÿå‘½å‘¨æœŸé’©å­ä¼šåœ¨ç»„ä»¶ç”Ÿå‘½å‘¨æœŸçš„å„ä¸ªä¸åŒé˜¶æ®µè¢«è°ƒç”¨
  // ä¾‹å¦‚è¿™ä¸ªå‡½æ•°å°±ä¼šåœ¨ç»„ä»¶æŒ‚è½½å®Œæˆåè¢«è°ƒç”¨
  mounted() &#123;
    console.log(`The initial count is $&#123;this.count&#125;.`)
  &#125;
&#125;
&lt;/script&gt;

&lt;template&gt;
  &lt;button @click=&quot;increment&quot;&gt;Count is: &#123;&#123; count &#125;&#125;&lt;/button&gt;
&lt;/template&gt;
</code></pre><ul><li>ç»„åˆå¼API</li></ul><pre><code class="typescript">&lt;script setup&gt;
import &#123; ref, onMounted &#125; from 'vue'

// å“åº”å¼çŠ¶æ€
const count = ref(0)

// ç”¨æ¥ä¿®æ”¹çŠ¶æ€ã€è§¦å‘æ›´æ–°çš„å‡½æ•°
function increment() &#123;
  count.value++
&#125;

// ç”Ÿå‘½å‘¨æœŸé’©å­
onMounted(() =&gt; &#123;
  console.log(`The initial count is $&#123;count.value&#125;.`)
&#125;)
&lt;/script&gt;

&lt;template&gt;
  &lt;button @click=&quot;increment&quot;&gt;Count is: &#123;&#123; count &#125;&#125;&lt;/button&gt;
&lt;/template&gt;
</code></pre><p>å­¦ä¹ è¿‡ç¨‹ä¸­ä¸»è¦é€‰ç”¨ å•é¡µé¢ç»„ä»¶ ç»„åˆå¼APIè¿›è¡Œç›¸å…³å­¦</p><p>åˆ›å»ºç¬¬ä¸€ä¸ªåº”ç”¨</p><p>ç¡®ä¿ä½ å®‰è£…äº†æœ€æ–°ç‰ˆæœ¬çš„Node.js ,é€šè¿‡è¿è¡Œ<code>npm init vue@latest</code>å‘½ä»¤ï¼Œå°±å¯ä»¥åˆ›å»ºé¡¹ç›®ï¼Œå‘½ä»¤æ‰§è¡Œåä¼šæœ‰ä¸€äº›åŠŸèƒ½é€‰é¡¹å¦‚ä¸‹ã€‚</p><p><img src="C:%5CUsers%5Cxiaojiao%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1676360180372.png" alt="1676360180372"></p><p>é€šè¿‡è¿è¡Œä»¥ä¸‹å‘½ä»¤å®‰è£…ä¾èµ–å¹¶å¯åŠ¨å¼€å‘æœåŠ¡å™¨</p><pre><code>&gt; cd &lt;your-project-name&gt;
&gt; npm install
&gt; npm run dev
</code></pre><p>è¿è¡Œåæ‰“å¼€æç¤ºçš„é“¾æ¥ æœ€ç»ˆå±•ç¤ºå¦‚ä¸‹å›¾</p><p><img src="C:%5CUsers%5Cxiaojiao%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1676360754980.png" alt="1676360754980"></p><p>å…³äºIDEçš„ä½¿ç”¨ å®˜æ–¹æ¨èä½¿ç”¨çš„ IDE æ˜¯ <a target="_blank" rel="noopener" href="https://code.visualstudio.com/">VSCode</a>ï¼Œé…åˆ <a target="_blank" rel="noopener" href="https://github.com/johnsoncodehk/volar">Volar</a> æ’ä»¶ã€‚Volar æä¾›äº†è¯­æ³•é«˜äº®ã€TypeScript æ”¯æŒï¼Œä»¥åŠæ¨¡æ¿å†…è¡¨è¾¾å¼ä¸ç»„ä»¶ props çš„æ™ºèƒ½æç¤ºã€‚</p><h3 id="æ¨¡æ¿è¯­æ³•">æ¨¡æ¿è¯­æ³•</h3><ul><li>æ–‡æœ¬æ’å€¼</li></ul><p>æœ€åŸºæœ¬çš„æ•°æ®ç»‘å®šå½¢å¼æ˜¯æ–‡æœ¬æ’å€¼</p><pre><code class="html">&lt;span&gt;Message: &#123;&#123; msg &#125;&#125;&lt;/span&gt;
</code></pre><p>åŒå¤§æ‹¬å·æ ‡ç­¾ä¼šè¢«æ›¿æ¢ä¸ºç›¸åº”ç»„ä»¶å®ä¾‹ä¸­ <code>msg</code> å±æ€§çš„å€¼ã€‚åŒæ—¶æ¯æ¬¡ <code>msg</code> å±æ€§æ›´æ”¹æ—¶å®ƒä¹Ÿä¼šåŒæ­¥æ›´æ–°ã€‚</p><ul><li>åŸå§‹ HTML</li></ul><p>å¦‚æœæƒ³æ’å…¥ä¸€æ®µHTML ä»£ç å¯ä»¥é€šè¿‡<code>v-html</code>å‘½ä»¤è¿›è¡Œæ’å…¥</p><pre><code class="html">&lt;p&gt;Using v-html directive: &lt;span v-html=&quot;rawHtml&quot;&gt;&lt;/span&gt;&lt;/p&gt;
</code></pre><ul><li>Attribute ç»‘å®š</li></ul><p>åŒå¤§æ‹¬å·ä¸èƒ½åœ¨ HTML attributes ä¸­ä½¿ç”¨ã€‚æƒ³è¦å“åº”å¼åœ°ç»‘å®šä¸€ä¸ª attributeï¼Œåº”è¯¥ä½¿ç”¨ <code>v-bind</code> æŒ‡ä»¤</p><pre><code class="html">&lt;div v-bind:id=&quot;dynamicId&quot;&gt;&lt;/div&gt;
</code></pre><p>å¯ä»¥ç®€å†™æˆ</p><pre><code class="html">&lt;div :id=&quot;dynamicId&quot;&gt;&lt;/div&gt;
</code></pre><p>è¿™æ ·attributes å°±å¯ä»¥ ä¸€ä¸ªç»„ä»¶å±æ€§å…³è”èµ·æ¥ï¼Œè¿™ä¸ªattributes å€¼å°±æ˜¯ç»„ä»¶å±æ€§çš„å€¼ï¼Œç»“åˆåé¢çš„å“åº”å¼çŠ¶æ€ï¼Œæ”¹å˜ç»„ä»¶å±æ€§åï¼ŒHTML æ¸²æŸ“ä¼šåˆ·æ–°</p><h3 id="å“åº”å¼åŸºç¡€">å“åº”å¼åŸºç¡€</h3><p>èƒ½åœ¨æ”¹å˜æ—¶è§¦å‘æ›´æ–°çš„çŠ¶æ€è¢«ç§°ä½œæ˜¯<strong>å“åº”å¼</strong>çš„ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ Vue çš„ <code>reactive()</code> API æ¥å£°æ˜å“åº”å¼çŠ¶æ€ã€‚ç”± <code>reactive()</code> åˆ›å»ºçš„å¯¹è±¡éƒ½æ˜¯ JavaScript Proxyï¼Œå…¶è¡Œä¸ºä¸æ™®é€šå¯¹è±¡ä¸€æ ·ï¼š</p><pre><code class="typescript">import &#123; reactive &#125; from 'vue'

const counter = reactive(&#123;
  count: 0
&#125;)

console.log(counter.count) // 0
counter.count++

</code></pre><p><code>reactive()</code> åªé€‚ç”¨äºå¯¹è±¡ (åŒ…æ‹¬æ•°ç»„å’Œå†…ç½®ç±»å‹ï¼Œå¦‚ <code>Map</code> å’Œ <code>Set</code>)ã€‚è€Œå¦ä¸€ä¸ª API <code>ref()</code> åˆ™å¯ä»¥æ¥å—ä»»ä½•å€¼ç±»å‹ã€‚<code>ref</code> ä¼šè¿”å›ä¸€ä¸ªåŒ…è£¹å¯¹è±¡ï¼Œå¹¶åœ¨ <code>.value</code> å±æ€§ä¸‹æš´éœ²å†…éƒ¨å€¼ã€‚</p><pre><code class="typescript">import &#123; ref &#125; from 'vue'

const message = ref('Hello World!')

console.log(message.value) // &quot;Hello World!&quot;
message.value = 'Changed'

</code></pre><h6 id="DOM-æ›´æ–°æ—¶æœº">DOM æ›´æ–°æ—¶æœº</h6><p>å½“ä½ æ›´æ”¹å“åº”å¼çŠ¶æ€åï¼ŒDOM ä¼šè‡ªåŠ¨æ›´æ–°ã€‚ç„¶è€Œï¼Œä½ å¾—æ³¨æ„ DOM çš„æ›´æ–°å¹¶ä¸æ˜¯åŒæ­¥çš„ã€‚ç›¸åï¼ŒVue å°†ç¼“å†²å®ƒä»¬ç›´åˆ°æ›´æ–°å‘¨æœŸçš„ â€œä¸‹ä¸ªæ—¶æœºâ€ ä»¥ç¡®ä¿æ— è®ºä½ è¿›è¡Œäº†å¤šå°‘æ¬¡çŠ¶æ€æ›´æ”¹ï¼Œæ¯ä¸ªç»„ä»¶éƒ½åªæ›´æ–°ä¸€æ¬¡ã€‚</p><p>è‹¥è¦ç­‰å¾…ä¸€ä¸ªçŠ¶æ€æ”¹å˜åçš„ DOM æ›´æ–°å®Œæˆï¼Œä½ å¯ä»¥ä½¿ç”¨ <code>nextTick()</code>è¿™ä¸ªå…¨å±€ APIï¼š</p><pre><code class="typescript">import &#123; nextTick &#125; from 'vue'

function increment() &#123;
  state.count++
  nextTick(() =&gt; &#123;
    // è®¿é—®æ›´æ–°åçš„ DOM
  &#125;)
&#125;


</code></pre><h3 id="æ¡ä»¶æ¸²æŸ“">æ¡ä»¶æ¸²æŸ“</h3><p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>v-if</code> æŒ‡ä»¤æ¥æœ‰æ¡ä»¶åœ°æ¸²æŸ“å…ƒç´ ï¼š</p><pre><code class="html">&lt;h1 v-if=&quot;awesome&quot;&gt;Vue is awesome!&lt;/h1&gt;

</code></pre><p>è¿™ä¸ª <code>&lt;h1&gt;</code> æ ‡ç­¾åªä¼šåœ¨ <code>awesome</code> çš„å€¼ä¸º<code>true</code> æ—¶æ¸²æŸ“,è‹¥ <code>awesome</code> æ›´æ”¹ä¸º<code>false</code>ï¼Œå®ƒå°†è¢«ä» DOM ä¸­ç§»é™¤ã€‚</p><p>æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨ <code>v-else</code> å’Œ <code>v-else-if</code> æ¥è¡¨ç¤ºå…¶ä»–çš„æ¡ä»¶åˆ†æ”¯ï¼š</p><pre><code class="html">&lt;h1 v-if=&quot;awesome&quot;&gt;Vue is awesome!&lt;/h1&gt;
&lt;h1 v-else&gt;Oh no ğŸ˜¢&lt;/h1&gt;

</code></pre><h3 id="åˆ—è¡¨æ¸²æŸ“">åˆ—è¡¨æ¸²æŸ“</h3><p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>v-for</code> æŒ‡ä»¤æ¥æ¸²æŸ“ä¸€ä¸ªåŸºäºæºæ•°ç»„çš„åˆ—è¡¨ï¼š</p><pre><code class="html">&lt;ul&gt;
  &lt;li v-for=&quot;todo in todos&quot; :key=&quot;todo.id&quot;&gt;
    &#123;&#123; todo.text &#125;&#125;
  &lt;/li&gt;
&lt;/ul&gt;

</code></pre><p>æ³¨æ„ï¼Œæˆ‘ä»¬è¿˜ç»™æ¯ä¸ª todo å¯¹è±¡è®¾ç½®äº†å”¯ä¸€çš„ <code>id</code>ï¼Œå¹¶ä¸”å°†å®ƒä½œä¸º[ç‰¹æ®Šçš„ <code>key</code> attribute ç»‘å®šåˆ°æ¯ä¸ª <code>&lt;li&gt;</code>ã€‚<code>key</code> ä½¿å¾— Vue èƒ½å¤Ÿç²¾ç¡®çš„ç§»åŠ¨æ¯ä¸ª <code>&lt;li&gt;</code>ï¼Œä»¥åŒ¹é…å¯¹åº”çš„å¯¹è±¡åœ¨æ•°ç»„ä¸­çš„ä½ç½®ã€‚</p><h3 id="è®¡ç®—å±æ€§">è®¡ç®—å±æ€§</h3><p><code>computed()</code>å®ƒå¯ä»¥è®©æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªè®¡ç®—å±æ€§ refï¼Œè¿™ä¸ª ref ä¼šåŠ¨æ€åœ°æ ¹æ®å…¶ä»–å“åº”å¼æ•°æ®æºæ¥è®¡ç®—å…¶ <code>.value</code>ï¼š</p><pre><code class="typescript">&lt;script setup&gt;
import &#123; reactive, computed &#125; from 'vue'

const author = reactive(&#123;
  name: 'John Doe',
  books: [
    'Vue 2 - Advanced Guide',
    'Vue 3 - Basic Guide',
    'Vue 4 - The Mystery'
  ]
&#125;)

// ä¸€ä¸ªè®¡ç®—å±æ€§ ref
const publishedBooksMessage = computed(() =&gt; &#123;
  return author.books.length &gt; 0 ? 'Yes' : 'No'
&#125;)
&lt;/script&gt;

&lt;template&gt;
  &lt;p&gt;Has published books:&lt;/p&gt;
  &lt;span&gt;&#123;&#123; publishedBooksMessage &#125;&#125;&lt;/span&gt;
&lt;/template&gt;


</code></pre><p>è®¡ç®—å±æ€§ä¼šè‡ªåŠ¨è·Ÿè¸ªå…¶è®¡ç®—ä¸­æ‰€ä½¿ç”¨çš„åˆ°çš„å…¶ä»–å“åº”å¼çŠ¶æ€ï¼Œå¹¶å°†å®ƒä»¬æ”¶é›†ä¸ºè‡ªå·±çš„ä¾èµ–ã€‚è®¡ç®—ç»“æœä¼šè¢«ç¼“å­˜ï¼Œå¹¶åªæœ‰åœ¨å…¶ä¾èµ–å‘ç”Ÿæ”¹å˜æ—¶æ‰ä¼šè¢«è‡ªåŠ¨æ›´æ–°ã€‚</p><h3 id="ç”Ÿå‘½å‘¨æœŸé’©å­">ç”Ÿå‘½å‘¨æœŸé’©å­</h3><h6 id="onMounted">onMounted()</h6><p>æ³¨å†Œä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œåœ¨ç»„ä»¶æŒ‚è½½å®Œæˆåæ‰§è¡Œã€‚</p><h6 id="onUpdated">onUpdated()</h6><p>æ³¨å†Œä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œåœ¨ç»„ä»¶å› ä¸ºå“åº”å¼çŠ¶æ€å˜æ›´è€Œæ›´æ–°å…¶ DOM æ ‘ä¹‹åè°ƒç”¨ã€‚</p><h6 id="onUnmounted">onUnmounted()</h6><p>æ³¨å†Œä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œåœ¨ç»„ä»¶å®ä¾‹è¢«å¸è½½ä¹‹åè°ƒç”¨</p><h6 id="onBeforeMount">onBeforeMount()</h6><p>æ³¨å†Œä¸€ä¸ªé’©å­ï¼Œåœ¨ç»„ä»¶è¢«æŒ‚è½½ä¹‹å‰è¢«è°ƒç”¨ã€‚</p><h6 id="onBeforeUpdate">onBeforeUpdate()</h6><p>æ³¨å†Œä¸€ä¸ªé’©å­ï¼Œåœ¨ç»„ä»¶å³å°†å› ä¸ºå“åº”å¼çŠ¶æ€å˜æ›´è€Œæ›´æ–°å…¶ DOM æ ‘ä¹‹å‰è°ƒç”¨ã€‚</p><h6 id="onBeforeUpdate-2">onBeforeUpdate()</h6><p>æ³¨å†Œä¸€ä¸ªé’©å­ï¼Œåœ¨ç»„ä»¶å³å°†å› ä¸ºå“åº”å¼çŠ¶æ€å˜æ›´è€Œæ›´æ–°å…¶ DOM æ ‘ä¹‹å‰è°ƒç”¨ã€‚</p><h3 id="äº‹ä»¶ç›‘å¬">äº‹ä»¶ç›‘å¬</h3><p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>v-on</code> æŒ‡ä»¤ç›‘å¬ DOM äº‹ä»¶ï¼š</p><pre><code class="html">&lt;button v-on:click=&quot;increment&quot;&gt;&#123;&#123; count &#125;&#125;&lt;/button&gt;

</code></pre><p>ä¹Ÿå¯ä»¥ç®€åŒ–ä¸º</p><pre><code class="html">&lt;button @click=&quot;increment&quot;&gt;&#123;&#123; count &#125;&#125;&lt;/button&gt;

</code></pre><p>incrementå¯ä»¥æ˜¯ä¸ªæ–¹æ³•å ä¹Ÿå¯ä»¥JavaScript è¯­å¥</p><p>äº‹ä»¶ä¿®é¥°ç¬¦</p><ul><li><p><code>.stop</code></p><p>é˜²æ­¢äº‹ä»¶å†’æ³¡ï¼Œé€šä¿—æ¥è¯´å°±æ˜¯é˜»æ­¢äº‹ä»¶å‘çˆ¶å…ƒç´ ä¼ é€’ï¼Œé˜»æ­¢ä»»ä½•çˆ¶äº‹ä»¶å¤„ç†ç¨‹åºè¢«æ‰§è¡Œï¼Œç­‰åŒäºJavaScriptä¸­çš„event.stopPropagation()ã€‚</p></li><li><p><code>.prevent</code></p><p>æŸäº›æ ‡ç­¾æ‹¥æœ‰è‡ªèº«çš„é»˜è®¤äº‹ä»¶ï¼Œæ¯”å¦‚<a>æ ‡ç­¾ç‚¹å‡»åä¼šè¿›è¡Œé¡µé¢çš„è·³è½¬ã€‚è¿™ç±»é»˜è®¤äº‹ä»¶è™½ç„¶æ˜¯å†’æ³¡åå¼€å§‹çš„ï¼Œä½†ä¸ä¼šå› ä¸ºstopè€Œåœæ­¢æ‰§è¡Œã€‚é˜»æ­¢æ‰§è¡Œè¿™ç±»é¢„è®¾çš„è¡Œä¸ºï¼Œ.preventå°±æ´¾ä¸Šç”¨åœºäº†ã€‚ç›¸å½“äºè°ƒç”¨äº†event.preventDefaultæ–¹æ³•</a></p></li><li><p><code>.self</code></p><p>åªæœ‰åœ¨event.targetæ˜¯å½“å‰å…ƒç´ è‡ªèº«æ—¶è§¦å‘</p><pre><code class="html">&lt;div v-on:click.self=&quot;doThat&quot;&gt;...&lt;/div&gt;

</code></pre><p>ä½¿ç”¨ä¿®é¥°ç¬¦æ—¶ï¼Œé¡ºåºå¾ˆé‡è¦ï¼›ç›¸åº”çš„ä»£ç ä¼šä»¥åŒæ ·çš„é¡ºåºäº§ç”Ÿã€‚å› æ­¤ï¼Œç”¨<br>v-on:click.prevent.self ä¼šé˜»æ­¢æ‰€æœ‰çš„ç‚¹å‡»ï¼Œè€Œ v-on:click.self.prevent åªä¼šé˜»æ­¢å¯¹å…ƒç´ è‡ªèº«çš„ç‚¹å‡»</p></li><li><p><code>.capture</code></p><p>è®©äº‹ä»¶è§¦å‘ä»åŒ…å«è¿™ä¸ªå…ƒç´ çš„é¡¶å±‚å¼€å‘å¾€ä¸‹ä¾æ¬¡è§¦å‘</p><pre><code class="html">&lt;div @click.capture=&quot;shout(1)&quot;&gt;
    obj1
&lt;div @click.capture=&quot;shout(2)&quot;&gt;
    obj2
&lt;div @click=&quot;shout(3)&quot;&gt;
    obj3
&lt;div @click=&quot;shout(4)&quot;&gt;
    obj4
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
// è¾“å‡ºç»“æ„: 1 2 4 3


</code></pre></li><li><p><code>.once</code></p><p>ç»‘å®šçš„äº‹ä»¶åªèƒ½è§¦å‘ä¸€æ¬¡</p><pre><code class="html">&lt;button @click.once=&quot;shout(1)&quot;&gt;ok&lt;/button&gt;

</code></pre></li><li><p><code>.passive</code></p><p>è¿™ä¸ªæˆ‘ä»¬ä»¥ç§»åŠ¨ç«¯ç›‘å¬å…ƒç´ æ»šåŠ¨äº‹ä»¶è¯´æ˜ï¼Œåœ¨ç›‘å¬å…ƒç´ æ»šåŠ¨äº‹ä»¶çš„æ—¶å€™ï¼Œä¼šä¸€ç›´è§¦å‘onscrolläº‹ä»¶è®©é¡µé¢å˜çš„è¶Šæ¥è¶Šå¡ï¼Œå› æ­¤åœ¨æˆ‘ä»¬ä½¿ç”¨è¿™ä¸ªä¿®é¥°ç¬¦åï¼Œç›¸å½“äºç»™onscrolläº‹ä»¶å¢åŠ äº†.lazyä¿®é¥°ç¬¦</p><pre><code class="html">&lt;!-- æ»šåŠ¨äº‹ä»¶çš„é»˜è®¤è¡Œä¸º (å³æ»šåŠ¨è¡Œä¸º) å°†ä¼šç«‹å³è§¦å‘ --&gt;
&lt;!-- è€Œä¸ä¼šç­‰å¾… `onScroll` å®Œæˆ --&gt;
&lt;!-- è¿™å…¶ä¸­åŒ…å« `event.preventDefault()` çš„æƒ…å†µ --&gt;
&lt;div v-on:scroll.passive=&quot;onScroll&quot;&gt;...&lt;/div&gt;


</code></pre></li></ul><h3 id="è¡¨å•ç»‘å®š">è¡¨å•ç»‘å®š</h3><p>æˆ‘ä»¬å¯ä»¥åŒæ—¶ä½¿ç”¨ <code>v-bind</code> å’Œ <code>v-on</code> æ¥åœ¨è¡¨å•çš„è¾“å…¥å…ƒç´ ä¸Šåˆ›å»ºåŒå‘ç»‘å®šï¼š</p><pre><code class="html">&lt;input :value=&quot;text&quot; @input=&quot;onInput&quot;&gt;

</code></pre><pre><code class="typescript">function onInput(e) &#123;
  // v-on å¤„ç†å‡½æ•°ä¼šæ¥æ”¶åŸç”Ÿ DOM äº‹ä»¶
  // ä½œä¸ºå…¶å‚æ•°ã€‚
  text.value = e.target.value
&#125;


</code></pre><p>ä¸ºäº†ç®€åŒ–åŒå‘ç»‘å®šï¼ŒVue æä¾›äº†ä¸€ä¸ª <code>v-model</code> æŒ‡ä»¤ï¼Œå®ƒå®é™…ä¸Šæ˜¯ä¸Šè¿°æ“ä½œçš„è¯­æ³•ç³–ï¼š</p><pre><code class="html">&lt;input v-model=&quot;text&quot;&gt;

</code></pre><p><code>v-model</code> ä¼šå°†è¢«ç»‘å®šçš„å€¼ä¸ <code>&lt;input&gt;</code> çš„å€¼è‡ªåŠ¨åŒæ­¥ï¼Œè¿™æ ·æˆ‘ä»¬å°±ä¸å¿…å†ä½¿ç”¨äº‹ä»¶å¤„ç†å‡½æ•°äº†ã€‚<code>v-model</code> ä¼šå°†è¢«ç»‘å®šçš„å€¼ä¸ <code>&lt;input&gt;</code> çš„å€¼è‡ªåŠ¨åŒæ­¥ï¼Œè¿™æ ·æˆ‘ä»¬å°±ä¸å¿…å†ä½¿ç”¨äº‹ä»¶å¤„ç†å‡½æ•°äº†ã€‚</p><h3 id="ä¾¦å¬å™¨">ä¾¦å¬å™¨</h3><p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>watch()</code> åœ¨æ¯æ¬¡å“åº”å¼çŠ¶æ€å‘ç”Ÿå˜åŒ–æ—¶è§¦å‘å›è°ƒå‡½æ•°ï¼š</p><pre><code class="typescript">import &#123; ref, watch &#125; from 'vue'

const count = ref(0)

watch(count, (newCount) =&gt; &#123;
  // æ²¡é”™ï¼Œconsole.log() æ˜¯ä¸€ä¸ªå‰¯ä½œç”¨
  console.log(`new count is: $&#123;newCount&#125;`)
&#125;)


</code></pre><p><code>watch</code> çš„ç¬¬ä¸€ä¸ªå‚æ•°å¯ä»¥æ˜¯ä¸åŒå½¢å¼çš„â€œæ•°æ®æºâ€ï¼šå®ƒå¯ä»¥æ˜¯ä¸€ä¸ª ref (åŒ…æ‹¬è®¡ç®—å±æ€§)ã€ä¸€ä¸ªå“åº”å¼å¯¹è±¡ã€ä¸€ä¸ª getter å‡½æ•°ã€æˆ–å¤šä¸ªæ•°æ®æºç»„æˆçš„æ•°ç»„</p><h6 id="å³æ—¶å›è°ƒçš„ä¾¦å¬å™¨">å³æ—¶å›è°ƒçš„ä¾¦å¬å™¨</h6><p><code>watch</code> é»˜è®¤æ˜¯æ‡’æ‰§è¡Œçš„ï¼šä»…å½“æ•°æ®æºå˜åŒ–æ—¶ï¼Œæ‰ä¼šæ‰§è¡Œå›è°ƒã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¼ å…¥ <code>immediate: true</code> é€‰é¡¹æ¥å¼ºåˆ¶ä¾¦å¬å™¨çš„å›è°ƒç«‹å³æ‰§è¡Œï¼š</p><pre><code class="typescript">watch(source, (newValue, oldValue) =&gt; &#123;
  // ç«‹å³æ‰§è¡Œï¼Œä¸”å½“ `source` æ”¹å˜æ—¶å†æ¬¡æ‰§è¡Œ
&#125;, &#123; immediate: true &#125;)


</code></pre><h6 id="watchEffect">watchEffect()</h6><p><code>watchEffect()</code> å…è®¸æˆ‘ä»¬è‡ªåŠ¨è·Ÿè¸ªå›è°ƒçš„å“åº”å¼ä¾èµ–ã€‚</p><h6 id="watch-vs-watchEffect">watch vs. watchEffect</h6><p><code>watch</code> å’Œ <code>watchEffect</code> éƒ½èƒ½å“åº”å¼åœ°æ‰§è¡Œæœ‰å‰¯ä½œç”¨çš„å›è°ƒã€‚å®ƒä»¬ä¹‹é—´çš„ä¸»è¦åŒºåˆ«æ˜¯è¿½è¸ªå“åº”å¼ä¾èµ–çš„æ–¹å¼ï¼š</p><ul><li><code>watch</code> åªè¿½è¸ªæ˜ç¡®ä¾¦å¬çš„æ•°æ®æºã€‚å®ƒä¸ä¼šè¿½è¸ªä»»ä½•åœ¨å›è°ƒä¸­è®¿é—®åˆ°çš„ä¸œè¥¿ã€‚å¦å¤–ï¼Œä»…åœ¨æ•°æ®æºç¡®å®æ”¹å˜æ—¶æ‰ä¼šè§¦å‘å›è°ƒã€‚<code>watch</code> ä¼šé¿å…åœ¨å‘ç”Ÿå‰¯ä½œç”¨æ—¶è¿½è¸ªä¾èµ–ï¼Œå› æ­¤ï¼Œæˆ‘ä»¬èƒ½æ›´åŠ ç²¾ç¡®åœ°æ§åˆ¶å›è°ƒå‡½æ•°çš„è§¦å‘æ—¶æœºã€‚</li><li><code>watchEffect</code>ï¼Œåˆ™ä¼šåœ¨å‰¯ä½œç”¨å‘ç”ŸæœŸé—´è¿½è¸ªä¾èµ–ã€‚å®ƒä¼šåœ¨åŒæ­¥æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œè‡ªåŠ¨è¿½è¸ªæ‰€æœ‰èƒ½è®¿é—®åˆ°çš„å“åº”å¼å±æ€§ã€‚è¿™æ›´æ–¹ä¾¿ï¼Œè€Œä¸”ä»£ç å¾€å¾€æ›´ç®€æ´ï¼Œä½†æœ‰æ—¶å…¶å“åº”æ€§ä¾èµ–å…³ç³»ä¼šä¸é‚£ä¹ˆæ˜ç¡®ã€‚</li></ul><h6 id="å›è°ƒçš„è§¦å‘">å›è°ƒçš„è§¦å‘</h6><p>å½“ä½ æ›´æ”¹äº†å“åº”å¼çŠ¶æ€ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œç”¨æˆ·åˆ›å»ºçš„ä¾¦å¬å™¨å›è°ƒï¼Œéƒ½ä¼šåœ¨ Vue ç»„ä»¶æ›´æ–°<strong>ä¹‹å‰</strong>è¢«è°ƒç”¨ã€‚å¦‚æœæƒ³åœ¨ä¾¦å¬å™¨å›è°ƒä¸­èƒ½è®¿é—®è¢« Vue æ›´æ–°<strong>ä¹‹å</strong>çš„ DOMï¼Œä½ éœ€è¦æŒ‡æ˜ <code>flush: 'post'</code> é€‰é¡¹ï¼š</p><pre><code class="typescript">watch(source, callback, &#123;
  flush: 'post'
&#125;)

watchEffect(callback, &#123;
  flush: 'post'
&#125;)


</code></pre><h3 id="ç»„ä»¶åŸºç¡€">ç»„ä»¶åŸºç¡€</h3><h6 id="å®šä¹‰ä¸€ä¸ªç»„ä»¶">å®šä¹‰ä¸€ä¸ªç»„ä»¶</h6><p>å½“ä½¿ç”¨æ„å»ºæ­¥éª¤æ—¶ï¼Œæˆ‘ä»¬ä¸€èˆ¬ä¼šå°† Vue ç»„ä»¶å®šä¹‰åœ¨ä¸€ä¸ªå•ç‹¬çš„ <code>.vue</code> æ–‡ä»¶ä¸­ï¼Œè¿™è¢«å«åšå•æ–‡ä»¶ç»„ä»¶ (ç®€ç§° SFC)ï¼š</p><pre><code class="typescript">&lt;script setup&gt;
import &#123; ref &#125; from 'vue'

const count = ref(0)
&lt;/script&gt;

&lt;template&gt;
  &lt;button @click=&quot;count++&quot;&gt;You clicked me &#123;&#123; count &#125;&#125; times.&lt;/button&gt;
&lt;/template&gt;


</code></pre><h6 id="ä½¿ç”¨ç»„ä»¶">ä½¿ç”¨ç»„ä»¶</h6><p>è¦ä½¿ç”¨ä¸€ä¸ªå­ç»„ä»¶ï¼Œæˆ‘ä»¬éœ€è¦åœ¨çˆ¶ç»„ä»¶ä¸­å¯¼å…¥å®ƒã€‚å‡è®¾æˆ‘ä»¬æŠŠè®¡æ•°å™¨ç»„ä»¶æ”¾åœ¨äº†ä¸€ä¸ªå«åš ButtonCounter.vue çš„æ–‡ä»¶ä¸­ï¼Œè¿™ä¸ªç»„ä»¶å°†ä¼šä»¥é»˜è®¤å¯¼å‡ºçš„å½¢å¼è¢«æš´éœ²ç»™å¤–éƒ¨ã€‚</p><pre><code class="html">&lt;script setup&gt;
import ButtonCounter from './ButtonCounter.vue'
&lt;/script&gt;

&lt;template&gt;
  &lt;h1&gt;Here is a child component!&lt;/h1&gt;
  &lt;ButtonCounter /&gt;
&lt;/template&gt;


</code></pre><p>é€šè¿‡ <code>&lt;script setup&gt;</code>ï¼Œå¯¼å…¥çš„ç»„ä»¶éƒ½åœ¨æ¨¡æ¿ä¸­ç›´æ¥å¯ç”¨ã€‚</p><h6 id="ä¼ é€’-props">ä¼ é€’ props</h6><p>Props æ˜¯ä¸€ç§ç‰¹åˆ«çš„ attributesï¼Œä½ å¯ä»¥åœ¨ç»„ä»¶ä¸Šå£°æ˜æ³¨å†Œã€‚è¦ä¼ é€’ç»™åšå®¢æ–‡ç« ç»„ä»¶ä¸€ä¸ªæ ‡é¢˜ï¼Œæˆ‘ä»¬å¿…é¡»åœ¨ç»„ä»¶çš„ props åˆ—è¡¨ä¸Šå£°æ˜å®ƒã€‚è¿™é‡Œè¦ç”¨åˆ° defineProps å®ï¼š</p><pre><code class="html">&lt;!-- BlogPost.vue --&gt;
&lt;script setup&gt;
defineProps(['title'])
&lt;/script&gt;

&lt;template&gt;
  &lt;h4&gt;&#123;&#123; title &#125;&#125;&lt;/h4&gt;
&lt;/template&gt;


</code></pre><p><code>defineProps</code> æ˜¯ä¸€ä¸ªä»… <code>&lt;script setup&gt;</code> ä¸­å¯ç”¨çš„ç¼–è¯‘å®å‘½ä»¤ï¼Œå¹¶ä¸éœ€è¦æ˜¾å¼åœ°å¯¼å…¥ã€‚å£°æ˜çš„ props ä¼šè‡ªåŠ¨æš´éœ²ç»™æ¨¡æ¿ã€‚<code>defineProps</code> ä¼šè¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œå…¶ä¸­åŒ…å«äº†å¯ä»¥ä¼ é€’ç»™ç»„ä»¶çš„æ‰€æœ‰ props</p><h6 id="ç›‘å¬äº‹ä»¶">ç›‘å¬äº‹ä»¶</h6><p>é™¤äº†æ¥æ”¶ propsï¼Œå­ç»„ä»¶è¿˜å¯ä»¥å‘çˆ¶ç»„ä»¶è§¦å‘äº‹ä»¶ï¼š</p><pre><code class="html">&lt;script setup&gt;
// å£°æ˜è§¦å‘çš„äº‹ä»¶
const emit = defineEmits(['response'])

// å¸¦å‚æ•°è§¦å‘
emit('response', 'hello from child')
&lt;/script&gt;

</code></pre><p><code>emit()</code> çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯äº‹ä»¶çš„åç§°ã€‚å…¶ä»–æ‰€æœ‰å‚æ•°éƒ½å°†ä¼ é€’ç»™äº‹ä»¶ç›‘å¬å™¨ã€‚</p><p>çˆ¶ç»„ä»¶å¯ä»¥ä½¿ç”¨ <code>v-on</code> ç›‘å¬å­ç»„ä»¶è§¦å‘çš„äº‹ä»¶â€”â€”è¿™é‡Œçš„å¤„ç†å‡½æ•°æ¥æ”¶äº†å­ç»„ä»¶è§¦å‘äº‹ä»¶æ—¶çš„é¢å¤–å‚æ•°å¹¶å°†å®ƒèµ‹å€¼ç»™äº†æœ¬åœ°çŠ¶æ€ï¼š</p><pre><code class="html">&lt;ChildComp @response=&quot;(msg) =&gt; childMsg = msg&quot; /&gt;

</code></pre></div></div></div><div id="home-card"><div id="card-div"><div class="card-style"><div class="avatar"><img src="/images/avatar.jpg" alt="avatar"></div><div class="name">Mcokos</div><div class="description"><p>å¹³å‡¡äººç”Ÿï¼Œç¾å¥½ç”Ÿæ´»</p></div><div class="card-count"><div><span class="count-title">æ–‡ç« </span> 9</div><div><span class="count-title">æ ‡ç­¾</span> 10</div><div><span class="count-title">åˆ†ç±»</span> 3</div></div><div id="post-doc"><div><i class="fa-solid fa-bars fa-fw"></i> <span>ç›®å½•</span></div><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AE%80%E4%BB%8B"><span class="toc-text">ç®€ä»‹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A8%A1%E6%9D%BF%E8%AF%AD%E6%B3%95"><span class="toc-text">æ¨¡æ¿è¯­æ³•</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%93%8D%E5%BA%94%E5%BC%8F%E5%9F%BA%E7%A1%80"><span class="toc-text">å“åº”å¼åŸºç¡€</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9D%A1%E4%BB%B6%E6%B8%B2%E6%9F%93"><span class="toc-text">æ¡ä»¶æ¸²æŸ“</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%97%E8%A1%A8%E6%B8%B2%E6%9F%93"><span class="toc-text">åˆ—è¡¨æ¸²æŸ“</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%A1%E7%AE%97%E5%B1%9E%E6%80%A7"><span class="toc-text">è®¡ç®—å±æ€§</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E9%92%A9%E5%AD%90"><span class="toc-text">ç”Ÿå‘½å‘¨æœŸé’©å­</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8B%E4%BB%B6%E7%9B%91%E5%90%AC"><span class="toc-text">äº‹ä»¶ç›‘å¬</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A1%A8%E5%8D%95%E7%BB%91%E5%AE%9A"><span class="toc-text">è¡¨å•ç»‘å®š</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BE%A6%E5%90%AC%E5%99%A8"><span class="toc-text">ä¾¦å¬å™¨</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%84%E4%BB%B6%E5%9F%BA%E7%A1%80"><span class="toc-text">ç»„ä»¶åŸºç¡€</span></a></li></ol></div><div class="icon-links"><span class="icon-link"><a target="_blank" rel="noopener" href="https://github.com/mcokos"><i class="fa-brands fa-github fa-fw"></i> </a></span><span class="icon-link"><a target="_blank" rel="noopener" href="http://wpa.qq.com/msgrd?v=3&uin=443915519&site=qq&menu=yes"><i class="fa-brands fa-qq fa-fw"></i> </a></span><span class="icon-link"><a href="mailto:xiaojiao_12@outlook.com"><i class="fa-solid fa-envelope fa-fw"></i></a></span></div><div class="friend-links"><div class="friend-link"><a target="_blank" rel="noopener" href="https://argvchs.github.io">Argvchs</a></div></div></div></div></div></div><footer id="footer"><div id="footer-wrap"><div>&copy; 2022 - 2023 Mcokos Blog <span id="footer-icon"><i class="fa-solid fa-font-awesome fa-fw"></i> </span>&commat;Mcokos</div><div>Based on the <a target="_blank" rel="noopener" href="https://hexo.io">Hexo Engine</a> &amp; <a target="_blank" rel="noopener" href="https://github.com/argvchs/hexo-theme-particlex">ParticleX Theme</a></div></div></footer><transition name="fade"><div id="preview" ref="preview" v-show="previewShow"><img id="preview-content" ref="previewContent"></div></transition></div><script src="/js/main.js"></script><script></script></body></html>